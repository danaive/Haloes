// Generated by CoffeeScript 1.10.0
(function() {
  $(function() {
    $('[href="#logout"]').on('click', function() {
      return $.ajax({
        url: 'sign-out/',
        type: 'post',
        dataType: 'json',
        success: function() {
          return location.href = '/';
        }
      });
    });
    $('#updateBtn').on('click', function() {
      $(this).hide();
      $('#cancelBtn').show();
      $('.alert').hide();
      return $('#updateForm').fadeToggle();
    });
    $('#cancelBtn').on('click', function() {
      $(this).hide();
      $('#updateBtn').show();
      return $('#updateForm').fadeToggle();
    });
    return $('#confBtn').on('click', function() {
      return $.ajax({
        url: 'update-info/',
        type: 'post',
        dataType: 'json',
        data: {
          major: $('#updateMajor').val(),
          school: $('#updateSchool').val(),
          email: $('#updateEmail').val(),
          blog: $('#updateBlog').val()
        },
        success: function(data) {
          if (data.msg === 'okay') {
            $('.alert-success').fadeIn();
            window.setTimeout("$('#updateForm').fadeOut()", 1000);
            $('#cancelBtn').hide();
            $('#updateBtn').show();
            $('#infoMajor').text(data.major);
            $('#infoSchool').text(data.school);
            $('#infoEmail').text(data.email);
            return $('#infoBlog').text(data.blog);
          }
        }
      });
    });
  });

}).call(this);
